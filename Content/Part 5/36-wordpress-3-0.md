## 36. WordPress 3.0

2010 was the year of WordPress 3.0, which brought software, development process, and project structure iterations. A much wider commit policy was put into place, and all these changes shaped how the project works today. WordPress’ philosophy -- _deadlines are not arbitrary_ -- was also seriously challenged.

New committers were added during the 3.0 release cycle. In January 2010, Dion Hulse,  ([dd32](http://profiles.wordpress.org/dd32)) received commit access. In the [post announcing Dion’s commit access](https://make.wordpress.org/core/2010/01/12/dd32-whatcha-gonna-do/), Matt outlines a new goal for the project:

> One of the goals for the team in 2010 is to greatly expand the number of people with direct commit access, so the emphasis is more on review and collaboration. Right now commit access is tied up with being a “lead developer,” of which we’ve always found a small group of 3-5 works best, but now we want commit to be more a recognition of trust, quality, and most importantly activity, and something that can dynamically flow in and out as their level of commitment (har har) changes and decoupled from the “lead dev” role.

This was a big change from when every patch had to go through either Matt or Ryan. Also significant was decoupling commit access from the lead developer role. There was a need to extend trust to contributors without necessarily giving them leadership roles within the project. While there were no formal rules, several contributors received commit access: Ron Rennick ([wpmuguru](https://profiles.wordpress.org/wpmuguru)), focused on multisite, Dion focused on HTTP, Daryl Koopersmith ([koop](https://profiles.wordpress.org/koop)), worked on front-end development, while Andrew Nacin ([nacin](http://profiles.wordpress.org/nacin)) acted as a codebase generalist.

As well as a symbol of trust, this extended commit access meant that tickets and bottlenecks could be cleared quickly. When lead developers got distracted by life and work, Ryan Boren carried the load. Adding new committers removed the bottleneck, ensuring that tickets got reviewed and committed. 

April 13th 2010, was WordPress 3.0's release date. But as with prior releases -- despite having a deadline -- development focused on scope and headline features, rather than the date. Three main features were defined in the [scope  chat](https://irclogs.wordpress.org/chanlog.php?channel=wordpress-dev&day=2010-01-07#m51679): merging WordPress MU with WordPress, menus, and a new default theme to replace Kubrick. 	

Merging WordPress MU with WordPress came for several reasons: WordPress MU was difficult to maintain, the code was 95% the same as the main WordPress codebase, and Donncha had to manually merge new features after a release.  Also, WordPress MU hadn't gained attention from plugin developers -- it felt separate to the main WordPress project. To give users a clean upgrade path, WordPress MU merged with WordPress. An alternative was to add a multisite feature to core, though this would have left WPMU users languishing on an outdated piece of software that might end up being forked.

Ron Rennick assisted with the merge. He had been using WordPress MU for years for the homeschooling blogging network that he ran with his wife, Andrea. He had written a script which ran on a WordPress install to turn it into a WordPress MU install. He was able to reverse engineer his script to bring MU functionality into WordPress, ensuring that there was a utility to convert a single WordPress install to a Multisite install.

Ron ran a diff [fn^1] against the WordPress MU code, looked for differences in the codebase, and [merged them into WordPress core](https://core.trac.wordpress.org/ticket/11644). Ryan Boren and Andrew Nacin cleaned up the code. Ron also features absent from WordPress MU in plugins, like [domain mapping](http://wordpress.org/plugins/wordpress-mu-domain-mapping/) which was originally developed by Donncha.

The original plan was to allow users to upgrade to WordPress Multisite by just clicking a button. “The reason we decided not to do that,” [recalls Ron](http://archive.wordpress.org/interviews/2014_04_05_Rennick_R.html#L76), “is that a lot of the shared hosts would not have been happy if their users could just take any WordPress install, click a button -- without actually knowing anything about what was going to happen -- and convert it over to Multisite. The decision was made to actually make it a physical process that they had to go through.” To change a WordPress installation into Multisite, WordPress users have to edit wp-config. They need basic technical knowledge.

Terminology was one of the biggest headaches surrounding the merge. In WordPress 3.0, the project decided to move away from the word “blog,” and instead refer to a WordPress installation as a “site.”  More and more people were using WordPress as a CMS, so the “site” label felt more appropriate. However, in WordPress MU, the parent -- example.org -- is a site, while the subdomain blog.example.org is a blog. With WordPress MU and WordPress merging, which one was the site? An individual WordPress install, or a WordPress install that hosted many blogs? WordPress MU became WordPress Multisite, but that wasn’t the end of it.	

To complicate matters further, WordPress MU had a function `get_site_option`, which gets options for the entire network, and `get_blog_option` which gets options for individual sites. The functions, therefore, don’t relate entirely to the user interface. That was just one of the functions that caused problems, [as Andrew Nacin noted](http://nacin.com/2010/03/25/terminology-nightmare-blogs-sites-networks/).	

Custom post types and custom taxonomies were two big changes in WordPress 3.0. The default content types in WordPress are posts, pages, attachments, revisions, and nav menus (from WordPress 3.0), and the default taxonomies are categories and tags. In WordPress 3.0, custom post types and taxonomies were given a user interface. So instead of being restricted to just posts and pages, developers could create themes and plugins that had completely new types of content for users: testimonials for a business site, reviews for a review site, or books for a book database website, as examples. This opened up totally new avenues for theme and plugin developers, and those building custom sites for clients. 

Menus was the big user-facing feature for WordPress 3.0. At the time it wasn’t easy for people to add navigation menus to their websites. Menu plugins were popular, so much so that it was obvious that the feature met the 80/20 rule. (Would 80% of WordPress users take advantage of the feature? If yes, put it in core, if not it stays in a plugin.) The [menus ticket was opened at the start of January 2010](https://core.trac.wordpress.org/ticket/11817). The first approach was to make the menus interface act much like the widgets interface. By mid-February, however, little progress had been made. Competing proposals existed on how menus should work. Ryan and Jen contacted WooThemes to discuss bringing their [custom woo navigation](http://www.woothemes.com/2010/01/the-awesome-custom-woo-navigation/) into WordPress core. This was just days before the planned feature freeze on February 15th. 	

WooThemes’ custom navigation plugin made it easier for users to add menus to their websites. Developer Jeffrey Pearce ([Jeffikus](https://profiles.wordpress.org/jeffikus)), was introduced to the core team and assigned to work with Ptah Dunbar ([ptahdunbar](https://profiles.wordpress.org/ptahdunbar)). The plugin needed to be modified for core, and core needed to be updated to prepare for the feature. At the time, core updated jQuery to match the version WooThemes' plugin used. The original WooThemes plugin created new database tables for the menus. As a general rule, WordPress avoids adding tables to the MySQL database. Instead, core developers used custom post types, which let them use existing core functionality.

However, Jeffrey struggled with a factor that every distributed free software project has to work with: time zones. Jeffrey is based in South Africa. core development work happens mostly on US time zones. The development chats were at 20:30 UTC, which was 22:30 in South Africa. Additionally, Ptah and Jeffrey kept missing each other on Skype.	

An environment in which everyone had a voice and an opinion isn’t something that WooThemes was used to within their development process. Adii Pienaar, co-founder of WooThemes, described the process as excruciating. One of the main points of contention was that WooThemes had originally put the menus in the center of the screen in the user interface, with the boxes to add menu items on the right hand side. WooThemes had put time into designing it that way but the [menu interface was flipped around](http://make.wordpress.org/core/2010/02/25/menus-ux-manifesto/) to match WordPress’ left to right interface convention.	

The menu integration was one of the first times that the project had worked directly with a commercial business (other than Automattic). While the process was not always completely smooth, both sides benefitted from collaborating. WordPress got its menu system. While not exactly the same as the menu system that WooThemes created, it accelerated development. WooThemes got the satisfaction of seeing its code used by every WordPress user. [Not everyone felt that WooThemes received adequate credit](http://wptavern.com/woothemes-has-and-will-continue-to-get-credit), though Jeff didn't share this viewpoint. “Just to have our name on the contributors' wall -- that to me was good enough,” [he says](http://archive.wordpress.org/interviews/2014_06_06_Pearce.html#L47). “It’s nice just to be able to say, I built a part of WordPress. No one can ever take that away from me. That was recognition enough for me.”	

WordPress 3.0 ended up being a huge release, and while discussion around menus went back and forth, shipping was delayed again and again. By April, the core team was still sending around wireframes -- [discussing whether menus should be pulled from 3.0](https://irclogs.wordpress.org/chanlog.php?channel=wordpress-dev&day=2010-04-15&sort=asc#m109848. The [release candidate kept being pushed back]http://make.wordpress.org/core/version-3-0-project-schedule/). Matt [reiterated one of WordPress’ key philosophies](http://make.wordpress.org/core/2010/04/20/deadlines-are-not-arbritrary-theyre-a/):	

> Deadlines are not arbitrary, they’re a promise we make to ourselves and our users that helps us rein in the endless possibilities of things that could be a part of every release.	

Feature-led releases meant delays. Menus caused the hold-up with WordPress 3.0, with prevarication over the user interface and implementation. The final release was packed full of features that included the new menus, the WordPress Multisite merge, custom post type and taxonomy UI, custom background and headers, and an admin color scheme refresh. Any of these features could have been pushed to the next release, but there was no willingness to do so.

One of the more controversial changes in WordPress 3.0 was [a new function](https://core.trac.wordpress.org/changeset/14996) called `capital_P_dangit`.  This function corrects the misspelling of WordPress from Wordpress to WordPress, capitalizing the letter p. 

People felt that [WordPress was messing with their content](http://justintadlock.com/archives/2010/07/08/lowercase-p-dangit) -- that transforming Wordpress into WordPress was the start of a slippery slope. For some, it was overbearing pedantry, for others, censorship. After all, if someone wanted to write Wordpress instead of WordPress, why shouldn’t they? WordPress has no business changing what people wanted to write. Some saw it as incommensurate with the core freedoms of the project: [openness, freedom, and community](http://justintadlock.com/archives/2010/07/08/lowercase-p-dangit).

A bigger problem was that in some instances the filter was breaking URLs. This was [reported before WordPress 3.0’s release](https://core.trac.wordpress.org/ticket/13583), but because the filter had already worked well on WordPress.com, it wasn’t fixed. For example, [a user reported on Trac](https://core.trac.wordpress.org/ticket/13971) that his image, named “WordpressLogo_blue-m.png” was broken because it had been renamed to “WordPressLogo_blue-m.png.” Upon upgrading to WordPress 3.0, other users, those with folders named Wordpress, [experienced the same problem](http://wordpress.org/support/topic/images-not-appearing-3?replies=30#post-1559585). As well as folders, URLs with the spelling Wordpress were broken. Hosts saw an uptick in support requests. "When 3.0 arrived,” says Mike Schroder ([dh-shredder](https://profiles.wordpress.org/dh-shredder)) of Dreamhost, “we had a deluge of support with broken URLs due to `capital_P_dangit()` applying to all content. This was a particular problem because it was popular among customers to use `/wordpress` as a subdirectory for their install. We helped customers with temporary workarounds in the meantime, but were very happy to see the issue fixed in 3.0.1." Mark Jaquith [added a fix](https://core.trac.wordpress.org/ticket/13971#comment:15), but many contributors believed WordPress should never have broken users’ websites in the first place.

The `capital_P_dangit` function isn’t the only function in WordPress to filter content. Other filters include emoticons, autop, shortcodes, texturize, special characters, curly quotes, tag balancing, filtered HTML / kses, and comment link nofollows. From the core developers' perspective, changing Wordpress to WordPress didn’t actually change the meaning of the sentence, except in edge cases such as the sentence “Wordpress is the incorrect capitalization of WordPress.”

[Core developers became frustrated](http://justintadlock.com/archives/2010/07/08/lowercase-p-dangit#comment-211354) by the hyperbole around the filter's inclusion and time spent arguing about it. In a comment on Justin Tadlock’s blog, Mark Jaquith said:	

> Calling corrections censorship is absurd. It is no less absurd when the capitalization of a single letter is called censorship. There is actual censorship going on all around the world at this very moment. I’m damn proud of the fact that WordPress is being used to publish content that makes governments around the world afraid of the citizens who publish it. I’m incredulous that people are making a fuss about a single character (which is only one of dozens of automatic corrections that WordPress makes). It’s free software that is easily extended (or crippled) by plugins. If the thought of going the rest of your life without misspelling WordPress it too much to bear, you have an easy out. Take it, take a deep breath, and try to pick your battles.”	

A [website created by Mark](http://capitalp.org/) reflects the position of many of the core developers on the capital_P_dangit discussion:

<img src="../../Resources/images/36/capital_p_dangit.png" width="800px" />

While this had all of the [hallmarks of a bikeshed](http://lists.wordpress.org/pipermail/wp-hackers/2010-July/032919.html), there were some procedural issues that community members felt ought to be taken seriously. Whether the WordPress software capitalized the P in WordPress or not, the method with which the function was added to core broke accepted procedure: no ticket was opened, no patch uploaded to Trac. The code was simply committed. For some this set up an "us and them" mentality whereby some core developers could commit code as they saw fit, whereas everyone else in the community was subject to a different process.	

Despite these development snafus, with WordPress 3.0, the platform matured, making “WordPress as a CMS” a reality. It also introduced a new default theme for WordPress, ushering in a new approach with new annual default themes. Gone was Kubrick, with its bold, blue header. The new theme, Twenty Ten, showcased WordPress’ brand new menus feature.

WordPress 3.0 ushered in changes to the project and the development process. It opened up WordPress to a new generation of people who became increasingly active. Over the coming releases, some of those committers would take on leadership both in terms of development and in the wider community. 

[^Fn-1] - a diff is a comparison tool that compares the difference between two files. 
